<template>
  <div>
    <h3>IMPORT FROM ITEM LIB</h3>
    <p>This is the content for the first link.</p>

    <!-- Affiche la bibliothÃ¨que dâ€™items si demandÃ©e -->
    <itemBankGrabber
      v-if="ItemBGrab"
      @close="toggleItemBank"
      :isVisible="true"
      :showItemBank="true"
    />
  </div>
</template>

<script setup>
import { ref, watchEffect } from 'vue';
import itemBankGrabber from '@/components/testTabSystem/itemBankgrabber.vue';

const props = defineProps({
  showItemBank: Boolean,
});

const ItemBGrab = ref(true);


// Synchronise lâ€™Ã©tat local avec la prop
watchEffect(() => {
  ItemBGrab.value = true;
  console.log("ðŸš¨ showItemBank prop:", props.showItemBank);
});

// MÃ©thode appelÃ©e quand lâ€™utilisateur ferme lâ€™itemBank
const toggleItemBank = () => {
  console.log("ðŸš¨ showItemBank prop:", props.showItemBank);
  ItemBGrab.value = false;
  clearPreviewAndEditor();
};

// Nettoyage (si besoin plus tard)
const clearPreviewAndEditor = () => {
  currentPreviewElement.value = null;
  currentEditorElement.value = null;
};

const currentPreviewElement = ref(null);
const currentEditorElement = ref(null);
</script>
